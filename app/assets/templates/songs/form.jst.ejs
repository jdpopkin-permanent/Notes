<form class="song-form" action="<%= url %>" method="<%= method %>">
  <input type="hidden" name="authenticity_token" value="<%= authToken %>">
  <input type="hidden" name="song[user_id]" value="<% currentUser %>">

  <label>
    Song title
    <input type="text" name="song[title]" value="<%= song.title %>">
  </label>

  <label>
    Artist
    <select name="song[artist_id]">
          <% for (var i = 0; i < Notes.Artists.length; i++) { %>
            <% var artist = Notes.Artists[i]; %>
            <option value="<%= artist.id %>"><%= artist.name %></option>
          <% } %>
    </select>
  </label>

  <label>
    Album
    <select name="song[album_id]">
      <option value="0">No album</option>
      <!-- TODO: dynamically generate options based on artist? -->

      <% for (var i = 0; i < Notes.Albums.length; i++) { %>
        <% var album = Notes.Albums[i]; %>
        <option value="<%= album.id %>"><%= album.title %></option>
      <% } %>
    </select>
  </label>

  <label>
    Lyrics
    <textarea name="song[lyrics]"><%= song.lyrics %></textarea>
  </label>

  <input type="submit" value="Add song!">
</form>